import React, { useState } from "react";
import { Mesh, MeshBasicMaterial, BufferGeometry } from "@orbits/engine";
import { input } from "../utils/controlHelpers.jsx";

const hexShapeRaw = [
  [
    { x: 10.471975511965978, y: 0, z: 0 },
    { x: 7.853981633974484, y: 4.534498410585544, z: 0 },
    { x: 2.6179938779914957, y: 4.534498410585545, z: 0 },
    { x: 0, y: 0, z: 0 },
    { x: 2.6179938779914984, y: 4.534498410585547, z: 0 },
    { x: 7.853981633974484, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 7.853981633974484, y: 4.534498410585544, z: 0 },
    { x: 5.23598775598299, y: 9.068996821171089, z: 0 },
    { x: 1.7763568394002505e-15, y: 9.06899682117109, z: 0 },
    { x: -2.617993877991494, y: 4.534498410585544, z: 0 },
    { x: 4.440892098500626e-15, y: 9.06899682117109, z: 0 },
    { x: 5.23598775598299, y: 0, z: 0 }
  ],
  [
    { x: 7.853981633974484, y: -4.534498410585544, z: 0 },
    { x: 5.23598775598299, y: 0, z: 0 },
    { x: 1.7763568394002505e-15, y: 8.881784197001252e-16, z: 0 },
    { x: -2.617993877991494, y: -4.534498410585544, z: 0 },
    { x: 4.440892098500626e-15, y: 2.6645352591003757e-15, z: 0 },
    { x: 5.23598775598299, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 20.943951023931955, y: 0, z: 0 },
    { x: 18.32595714594046, y: 4.534498410585544, z: 0 },
    { x: 13.089969389957473, y: 4.534498410585545, z: 0 },
    { x: 10.471975511965976, y: 0, z: 0 },
    { x: 13.089969389957474, y: 4.534498410585547, z: 0 },
    { x: 18.32595714594046, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 18.32595714594046, y: 4.534498410585544, z: 0 },
    { x: 15.707963267948966, y: 9.068996821171089, z: 0 },
    { x: 10.471975511965978, y: 9.06899682117109, z: 0 },
    { x: 7.853981633974482, y: 4.534498410585544, z: 0 },
    { x: 10.47197551196598, y: 9.06899682117109, z: 0 },
    { x: 15.707963267948966, y: 0, z: 0 }
  ],
  [
    { x: 18.32595714594046, y: -4.534498410585544, z: 0 },
    { x: 15.707963267948966, y: 0, z: 0 },
    { x: 10.471975511965978, y: 8.881784197001252e-16, z: 0 },
    { x: 7.853981633974482, y: -4.534498410585544, z: 0 },
    { x: 10.47197551196598, y: 2.6645352591003757e-15, z: 0 },
    { x: 15.707963267948966, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 31.415926535897935, y: 0, z: 0 },
    { x: 28.79793265790644, y: 4.534498410585544, z: 0 },
    { x: 23.561944901923454, y: 4.534498410585545, z: 0 },
    { x: 20.943951023931955, y: 0, z: 0 },
    { x: 23.561944901923454, y: 4.534498410585547, z: 0 },
    { x: 28.79793265790644, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 28.79793265790644, y: 4.534498410585544, z: 0 },
    { x: 26.179938779914945, y: 9.068996821171089, z: 0 },
    { x: 20.94395102393196, y: 9.06899682117109, z: 0 },
    { x: 18.32595714594046, y: 4.534498410585544, z: 0 },
    { x: 20.94395102393196, y: 9.06899682117109, z: 0 },
    { x: 26.179938779914945, y: 0, z: 0 }
  ],
  [
    { x: 28.79793265790644, y: -4.534498410585544, z: 0 },
    { x: 26.179938779914945, y: 0, z: 0 },
    { x: 20.94395102393196, y: 8.881784197001252e-16, z: 0 },
    { x: 18.32595714594046, y: -4.534498410585544, z: 0 },
    { x: 20.94395102393196, y: 2.6645352591003757e-15, z: 0 },
    { x: 26.179938779914945, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 41.88790204786391, y: 0, z: 0 },
    { x: 39.269908169872416, y: 4.534498410585544, z: 0 },
    { x: 34.033920413889426, y: 4.534498410585545, z: 0 },
    { x: 31.41592653589793, y: 0, z: 0 },
    { x: 34.03392041388943, y: 4.534498410585547, z: 0 },
    { x: 39.269908169872416, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 39.269908169872416, y: 4.534498410585544, z: 0 },
    { x: 36.65191429188092, y: 9.068996821171089, z: 0 },
    { x: 31.41592653589793, y: 9.06899682117109, z: 0 },
    { x: 28.797932657906436, y: 4.534498410585544, z: 0 },
    { x: 31.415926535897935, y: 9.06899682117109, z: 0 },
    { x: 36.65191429188092, y: 0, z: 0 }
  ],
  [
    { x: 39.269908169872416, y: -4.534498410585544, z: 0 },
    { x: 36.65191429188092, y: 0, z: 0 },
    { x: 31.41592653589793, y: 8.881784197001252e-16, z: 0 },
    { x: 28.797932657906436, y: -4.534498410585544, z: 0 },
    { x: 31.415926535897935, y: 2.6645352591003757e-15, z: 0 },
    { x: 36.65191429188092, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 52.35987755982989, y: 0, z: 0 },
    { x: 49.741883681838395, y: 4.534498410585544, z: 0 },
    { x: 44.505895925855405, y: 4.534498410585545, z: 0 },
    { x: 41.88790204786391, y: 0, z: 0 },
    { x: 44.50589592585541, y: 4.534498410585547, z: 0 },
    { x: 49.741883681838395, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 49.741883681838395, y: 4.534498410585544, z: 0 },
    { x: 47.1238898038469, y: 9.068996821171089, z: 0 },
    { x: 41.88790204786391, y: 9.06899682117109, z: 0 },
    { x: 39.269908169872416, y: 4.534498410585544, z: 0 },
    { x: 41.88790204786392, y: 9.06899682117109, z: 0 },
    { x: 47.1238898038469, y: 0, z: 0 }
  ],
  [
    { x: 49.741883681838395, y: -4.534498410585544, z: 0 },
    { x: 47.1238898038469, y: 0, z: 0 },
    { x: 41.88790204786391, y: 8.881784197001252e-16, z: 0 },
    { x: 39.269908169872416, y: -4.534498410585544, z: 0 },
    { x: 41.88790204786392, y: 2.6645352591003757e-15, z: 0 },
    { x: 47.1238898038469, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 62.83185307179587, y: 0, z: 0 },
    { x: 60.213859193804375, y: 4.534498410585544, z: 0 },
    { x: 54.977871437821385, y: 4.534498410585545, z: 0 },
    { x: 52.35987755982989, y: 0, z: 0 },
    { x: 54.97787143782139, y: 4.534498410585547, z: 0 },
    { x: 60.213859193804375, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 60.213859193804375, y: 4.534498410585544, z: 0 },
    { x: 57.59586531581288, y: 9.068996821171089, z: 0 },
    { x: 52.35987755982989, y: 9.06899682117109, z: 0 },
    { x: 49.741883681838395, y: 4.534498410585544, z: 0 },
    { x: 52.3598775598299, y: 9.06899682117109, z: 0 },
    { x: 57.59586531581288, y: 0, z: 0 }
  ],
  [
    { x: 60.213859193804375, y: -4.534498410585544, z: 0 },
    { x: 57.59586531581288, y: 0, z: 0 },
    { x: 52.35987755982989, y: 8.881784197001252e-16, z: 0 },
    { x: 49.741883681838395, y: -4.534498410585544, z: 0 },
    { x: 52.3598775598299, y: 2.6645352591003757e-15, z: 0 },
    { x: 57.59586531581288, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 73.30382858376184, y: 0, z: 0 },
    { x: 70.68583470577035, y: 4.534498410585544, z: 0 },
    { x: 65.44984694978736, y: 4.534498410585545, z: 0 },
    { x: 62.83185307179586, y: 0, z: 0 },
    { x: 65.44984694978736, y: 4.534498410585547, z: 0 },
    { x: 70.68583470577035, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 70.68583470577035, y: 4.534498410585544, z: 0 },
    { x: 68.06784082777885, y: 9.068996821171089, z: 0 },
    { x: 62.83185307179586, y: 9.06899682117109, z: 0 },
    { x: 60.21385919380437, y: 4.534498410585544, z: 0 },
    { x: 62.83185307179587, y: 9.06899682117109, z: 0 },
    { x: 68.06784082777885, y: 0, z: 0 }
  ],
  [
    { x: 70.68583470577035, y: -4.534498410585544, z: 0 },
    { x: 68.06784082777885, y: 0, z: 0 },
    { x: 62.83185307179586, y: 8.881784197001252e-16, z: 0 },
    { x: 60.21385919380437, y: -4.534498410585544, z: 0 },
    { x: 62.83185307179587, y: 2.6645352591003757e-15, z: 0 },
    { x: 68.06784082777885, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 83.77580409572782, y: 0, z: 0 },
    { x: 81.15781021773633, y: 4.534498410585544, z: 0 },
    { x: 75.92182246175334, y: 4.534498410585545, z: 0 },
    { x: 73.30382858376184, y: 0, z: 0 },
    { x: 75.92182246175334, y: 4.534498410585547, z: 0 },
    { x: 81.15781021773633, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 81.15781021773633, y: 4.534498410585544, z: 0 },
    { x: 78.53981633974483, y: 9.068996821171089, z: 0 },
    { x: 73.30382858376184, y: 9.06899682117109, z: 0 },
    { x: 70.68583470577035, y: 4.534498410585544, z: 0 },
    { x: 73.30382858376184, y: 9.06899682117109, z: 0 },
    { x: 78.53981633974483, y: 0, z: 0 }
  ],
  [
    { x: 81.15781021773633, y: -4.534498410585544, z: 0 },
    { x: 78.53981633974483, y: 0, z: 0 },
    { x: 73.30382858376184, y: 8.881784197001252e-16, z: 0 },
    { x: 70.68583470577035, y: -4.534498410585544, z: 0 },
    { x: 73.30382858376184, y: 2.6645352591003757e-15, z: 0 },
    { x: 78.53981633974483, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 94.2477796076938, y: 0, z: 0 },
    { x: 91.6297857297023, y: 4.534498410585544, z: 0 },
    { x: 86.39379797371932, y: 4.534498410585545, z: 0 },
    { x: 83.77580409572782, y: 0, z: 0 },
    { x: 86.39379797371932, y: 4.534498410585547, z: 0 },
    { x: 91.6297857297023, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 91.6297857297023, y: 4.534498410585544, z: 0 },
    { x: 89.01179185171081, y: 9.068996821171089, z: 0 },
    { x: 83.77580409572782, y: 9.06899682117109, z: 0 },
    { x: 81.15781021773633, y: 4.534498410585544, z: 0 },
    { x: 83.77580409572782, y: 9.06899682117109, z: 0 },
    { x: 89.01179185171081, y: 0, z: 0 }
  ],
  [
    { x: 91.6297857297023, y: -4.534498410585544, z: 0 },
    { x: 89.01179185171081, y: 0, z: 0 },
    { x: 83.77580409572782, y: 8.881784197001252e-16, z: 0 },
    { x: 81.15781021773633, y: -4.534498410585544, z: 0 },
    { x: 83.77580409572782, y: 2.6645352591003757e-15, z: 0 },
    { x: 89.01179185171081, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 104.71975511965978, y: 0, z: 0 },
    { x: 102.10176124166829, y: 4.534498410585544, z: 0 },
    { x: 96.8657734856853, y: 4.534498410585545, z: 0 },
    { x: 94.2477796076938, y: 0, z: 0 },
    { x: 96.8657734856853, y: 4.534498410585547, z: 0 },
    { x: 102.10176124166829, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 102.10176124166829, y: 4.534498410585544, z: 0 },
    { x: 99.48376736367679, y: 9.068996821171089, z: 0 },
    { x: 94.2477796076938, y: 9.06899682117109, z: 0 },
    { x: 91.6297857297023, y: 4.534498410585544, z: 0 },
    { x: 94.2477796076938, y: 9.06899682117109, z: 0 },
    { x: 99.48376736367679, y: 0, z: 0 }
  ],
  [
    { x: 102.10176124166829, y: -4.534498410585544, z: 0 },
    { x: 99.48376736367679, y: 0, z: 0 },
    { x: 94.2477796076938, y: 8.881784197001252e-16, z: 0 },
    { x: 91.6297857297023, y: -4.534498410585544, z: 0 },
    { x: 94.2477796076938, y: 2.6645352591003757e-15, z: 0 },
    { x: 99.48376736367679, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 115.19173063162576, y: 0, z: 0 },
    { x: 112.57373675363426, y: 4.534498410585544, z: 0 },
    { x: 107.33774899765127, y: 4.534498410585545, z: 0 },
    { x: 104.71975511965978, y: 0, z: 0 },
    { x: 107.33774899765127, y: 4.534498410585547, z: 0 },
    { x: 112.57373675363426, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 112.57373675363426, y: 4.534498410585544, z: 0 },
    { x: 109.95574287564277, y: 9.068996821171089, z: 0 },
    { x: 104.71975511965978, y: 9.06899682117109, z: 0 },
    { x: 102.10176124166829, y: 4.534498410585544, z: 0 },
    { x: 104.71975511965978, y: 9.06899682117109, z: 0 },
    { x: 109.95574287564277, y: 0, z: 0 }
  ],
  [
    { x: 112.57373675363426, y: -4.534498410585544, z: 0 },
    { x: 109.95574287564277, y: 0, z: 0 },
    { x: 104.71975511965978, y: 8.881784197001252e-16, z: 0 },
    { x: 102.10176124166829, y: -4.534498410585544, z: 0 },
    { x: 104.71975511965978, y: 2.6645352591003757e-15, z: 0 },
    { x: 109.95574287564277, y: -9.068996821171089, z: 0 }
  ],
  [
    { x: 125.66370614359174, y: 0, z: 0 },
    { x: 123.04571226560024, y: 4.534498410585544, z: 0 },
    { x: 117.80972450961725, y: 4.534498410585545, z: 0 },
    { x: 115.19173063162576, y: 0, z: 0 },
    { x: 117.80972450961725, y: 4.534498410585547, z: 0 },
    { x: 123.04571226560024, y: -4.534498410585544, z: 0 }
  ],
  [
    { x: 123.04571226560024, y: 4.534498410585544, z: 0 },
    { x: 120.42771838760875, y: 9.068996821171089, z: 0 },
    { x: 115.19173063162576, y: 9.06899682117109, z: 0 },
    { x: 112.57373675363426, y: 4.534498410585544, z: 0 },
    { x: 115.19173063162576, y: 9.06899682117109, z: 0 },
    { x: 120.42771838760875, y: 0, z: 0 }
  ],
  [
    { x: 123.04571226560024, y: -4.534498410585544, z: 0 },
    { x: 120.42771838760875, y: 0, z: 0 },
    { x: 115.19173063162576, y: 8.881784197001252e-16, z: 0 },
    { x: 112.57373675363426, y: -4.534498410585544, z: 0 },
    { x: 115.19173063162576, y: 2.6645352591003757e-15, z: 0 },
    { x: 120.42771838760875, y: -9.068996821171089, z: 0 }
  ]
];






const hexShapeTriangulated = hexShapeRaw.map( ([h1,h2,h3,h4,h5,h6]) => {
   return [
        h1, h2, h3,
        h1, h3, h4,
        h1, h4, h5,
        h1, h5, h6,
   ] 
}).flat();





export default function BufferGeometryExample(){

    const [ wireFrame,      setWireframe      ] = useState(false);


    return <>
    
        <Mesh>
            <BufferGeometry
                

                position = { hexShapeTriangulated }

                // position = {[
                //     { x: -100, y: 0, z: -100 }, { x: 100, y: 0, z: -100 }, { x: 100, y: 0, z: 100 }, { x: -100, y: 0, z: 100 }
                // ]}

                // indices = { [
                //     0, 1, 2,    0, 2, 3
                // ]}

                // normal = {[
                //     { x: -20, y: -20, z: 40 }, { x: 20, y: -20, z: 40 }, { x: 20, y: 20, z: 40 }, { x: -20, y: 20, z: 40 }
                // ]}

                // color = {[
                //     { r: 0.8, g: 0, b: 0 }, { r: 0, g: 0.8, b: 0 }, { r: 0, g: 0, b: 0.8 }, { r: 0.8, g: 0.8, b: 0 },
                // ]}

                // uv = {[
                //     { x: 0.61, y: 0.62 }, { x: 0.63, y: 0.64 }, { x: 0.65, y: 0.66 }, { x: 0.67, y: 0.68 }
                // ]}

                // customValues = {[ 1.2, 1.3, 1.4, 1.5 ]}
            />
            <MeshBasicMaterial color = { 0xffffff } wireframe = { wireFrame } />
        </Mesh>
    
    
    

        <h1>BufferGeometry</h1>

        <a className="source-code-link"
            href="https://github.com/shstefanov/orbits-engine-v2-examples/tree/blob/main/src/examples/geometries/BufferGeometryExample.jsx"
        > &lt;SOURCE&gt; </a>

        <div className="controls-block">
            <p> { input( "Wireframe",       { checkbox: true                       }, wireFrame,      setWireframe      ) } </p>
        </div>
    
    </>;
}
